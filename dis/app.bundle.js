!function(t){function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(module,exports,__webpack_require__){eval('var helpers = __webpack_require__(1);\r\n\r\n\r\nvar pageW = document.documentElement.clientWidth;\r\nvar pageH = document.documentElement.clientHeight;\r\n\r\nmodule.exports = {\r\n\tdrawVisible: function (dotsCount, dotsSize, min, max) {\r\n\t\t\r\n\t\tvar arrOfDots = [];\r\n\t\t\r\n\t\t// шаблон цикла for из книги Стояна Стефанова "Javacript Шаблоны"\r\n\t\tfor (dotsCount; dotsCount--; ) {\r\n\t\t\t\r\n//\t\t\tvar randDotX = Math.ceil(Math.random() * pageW),\r\n//\t\t\t\t\trandDotY = Math.ceil(Math.random() * pageH);\r\n\t\t\tvar randDotX = helpers.randomInRange(0, pageW),\r\n\t\t\t\t\trandDotY = helpers.randomInRange(0, pageH),\r\n\t\t\t\t\tspeed = helpers.randomDotSpeed(min, max),\r\n\t\t\t\t\tsize = helpers.randomDotSize(dotsSize, speed);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// В массив arrOfDots попадают данные для точек: \r\n\t\t\t//   под индексом 0 записывается позиция по х - randDotX\r\n\t\t\t//   под индексом 1 записывается позиция по у - randDotY\r\n\t\t\t//   под индексом 2 записывается коэфициент speed, который отображает множитель скорости движения точки, а так же множитель размера точки, так как мы принимаем что если точка(звезда) быстро двигается, значит она находится близко к наблюдателю, следовательно кажется ему большей\r\n\t\t\tarrOfDots.push([randDotX, randDotY, speed, size]);\r\n\t\t}\r\n\t\t\r\n\t\treturn arrOfDots;\r\n\t\t\r\n\t},\r\n\t\r\n\tdrawHidden: function(e, dotsCount, dotsSize, min, max) {\r\n\t\t\r\n\t\tvar clientX = e.clientX;\r\n\t\tvar clientY = e.clientY;\r\n\t\tvar arrOfDots = [];\r\n\t\t\r\n//\t\tvar sides = {\r\n//\t\t\tleftSide: {\r\n//\t\t\t\tratioX: (pageW - clientX) / pageW,\r\n//\t\t\t\tratioY: 2,\r\n//\t\t\t\tdotRangeX: { start: clientX - pageW, end: 0 },\r\n//\t\t\t\tdotRangeY: { start: clientY - pageH, end: pageH + clientY }\r\n//\t\t\t}, \r\n//\t\t\trightSide: {\r\n//\t\t\t\tratioX: clientX / pageW,\r\n//\t\t\t\tratioY: 2,\r\n//\t\t\t\tdotRangeX: { start: pageW, end: pageW + clientX },\r\n//\t\t\t\tdotRangeY: { start: clientY - pageH, end: pageH + clientY }\r\n//\t\t\t},\r\n//\t\t\ttopSide: {\r\n//\t\t\t\tratioX: 1,\r\n//\t\t\t\tratioY: (pageH - clientY) / pageH,\r\n//\t\t\t\tdotRangeX: { start: 0, end: pageW },\r\n//\t\t\t\tdotRangeY: { start: clientY - pageH, end: 0 }\r\n//\t\t\t},\r\n//\t\t\tbottomSide: {\r\n//\t\t\t\tratioX: 1,\r\n//\t\t\t\tratioY: clientY / pageH,\r\n//\t\t\t\tdotRangeX: { start: 0, end: pageW },\r\n//\t\t\t\tdotRangeY: { start: pageH, end: pageH + clientY }\r\n//\t\t\t}\r\n//\t\t};\r\n\r\n\t\tvar sides = {\r\n\t\t\tleftSide: {\r\n\t\t\t\tratioX: clientX / pageW,\r\n\t\t\t\tratioY: 2,\r\n\t\t\t\tdotRangeX: { start: -clientX, end: 0 },\r\n\t\t\t\tdotRangeY: { start: -clientY, end: pageH + (pageH - clientY) }\r\n\t\t\t}, \r\n\t\t\trightSide: {\r\n\t\t\t\tratioX: (pageW - clientX) / pageW,\r\n\t\t\t\tratioY: 2,\r\n\t\t\t\tdotRangeX: { start: pageW, end: pageW + (pageW - clientX) },\r\n\t\t\t\tdotRangeY: { start: -clientY, end: pageH + (pageH - clientY) }\r\n\t\t\t},\r\n\t\t\ttopSide: {\r\n\t\t\t\tratioX: 1,\r\n\t\t\t\tratioY: clientY / pageH,\r\n\t\t\t\tdotRangeX: { start: 0, end: pageW },\r\n\t\t\t\tdotRangeY: { start: -clientY, end: 0 }\r\n\t\t\t},\r\n\t\t\tbottomSide: {\r\n\t\t\t\tratioX: 1,\r\n\t\t\t\tratioY: (pageH - clientY) / pageH,\r\n\t\t\t\tdotRangeX: { start: 0, end: pageW },\r\n\t\t\t\tdotRangeY: { start: pageH, end: pageH + (pageH - clientY) }\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tfunction calculateDotsCount(dotsCount) {\r\n\t\t\t\r\n\t\t\tvar arrOfDots = [];\r\n\t\t\tfor (var side in sides) {\r\n\t\t\t\t\r\n\t\t\t\tvar dots = Math.floor(sides[side].ratioX * sides[side].ratioY * dotsCount);\r\n\t\t\t\tconsole.log(side, " : ", dots);\r\n\t\t\t\tfor (dots; dots--; ) {\r\n//\t\t\t\t\tvar randDotX = Math.ceil(Math.random() * pageW),\r\n//\t\t\t\t\t\t\trandDotY = Math.ceil(Math.random() * pageH);\r\n\t\t\t\t\t\tvar randDotX = helpers.randomInRange(sides[side].dotRangeX.start, sides[side].dotRangeX.end),\r\n\t\t\t\t\t\t\t\trandDotY = helpers.randomInRange(sides[side].dotRangeY.start, sides[side].dotRangeY.end),\r\n\t\t\t\t\t\t\t\tspeed = helpers.randomDotSpeed(min, max),\r\n\t\t\t\t\t\t\t\tsize = helpers.randomDotSize(dotsSize, speed);\r\n\t\t\t\r\n//\t\t\t\t\tarrOfDots.push([1,2,3,4]);\r\n\t\t\t\t\tarrOfDots.push([randDotX, randDotY, speed, size]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn arrOfDots;\r\n\t\t}\r\n\t\t\r\n\t\treturn calculateDotsCount(dotsCount);\r\n\t\t\r\n//\t\tvar leftSide = {\r\n//\t\t\tratioX: (pageW - clientX) / pageW,\r\n//\t\t\tratioY: 2\r\n//\t\t};\r\n//\t\r\n//\t\tvar rightSide = {\r\n//\t\t\tratioX: clientX / pageW,\r\n//\t\t\tratioY: 2\r\n//\t\t};\r\n//\r\n//\t\tvar topSide = {\r\n//\t\t\tratioX: 1,\r\n//\t\t\tratioY: (pageH - clientY) / pageH\r\n//\t\t};\r\n//\r\n//\t\tvar bottomSide = {\r\n//\t\t\tratioX: 1,\r\n//\t\t\tratioY: clientY / pageH\r\n//\t\t};\r\n\t\r\n//\t      left\r\n//\t\tvar ratioX = clientX / pageW;\r\n//\t\tvar ratioY = 2;\r\n//\t\t\r\n//\t\r\n//\t      right\r\n//\t\tvar ratioX = (pageW - clientX) / pageW;\r\n//\t\tvar ratioY = 2;\r\n//\t\tvar dotsNumber = dotsCount * ratioX * ratioY;\r\n//\t\r\n//\t      top\r\n//\t\tvar ratioX = 1;\r\n//\t\tvar ratioY = (pageH - clientY) / pageH;\r\n//\t\tvar dotsNumber = dotsCount * ratioX * ratioY;\r\n//\t\r\n//\t      bottom\r\n//\t\tvar ratioX = 1;\r\n//\t\tvar ratioY = clientY / pageH;\r\n//\t\tvar dotsNumber = dotsCount * ratioX * ratioY;\r\n//\t\r\n//\t\r\n//\t\r\n//\t\r\n//\t\t\t  left\r\n//\t\tvar leftX = helpers.randomInRange(pageW, pageW + clientX);\r\n//\t\tvar leftY = helpers.randomInRange(clientY - pageH, pageH + clientY);\r\n//\t\r\n//\t\t\t  right\r\n//\t\tvar rightX = helpers.randomInRange(clientX - pageW, 0);\r\n//\t\tvar rightY = helpers.randomInRange(clientY - pageH, pageH + clientY);\r\n//\t\t\t\r\n//\t\t\t  top\r\n//\t\tvar topX = helpers.randomInRange(0, pageW);\r\n//\t\tvar topY = helpers.randomInRange(clientY - pageH, 0);\r\n//\t\r\n//\t\t\t  bottom\r\n//\t\tvar bottomX = helpers.randomInRange(0, pageW);\r\n//\t\tvar bottomY = helpers.randomInRange(pageH, pageH + clientY);\r\n\t}\r\n};\r\n\r\n\r\n//module.exports = function (ctx, arrOfDots, pageWidthOverall, pageHeightOverall, dotsCount, dotsSize, min, max) {\r\n//\t\r\n//}\n\n//////////////////\n// WEBPACK FOOTER\n// ./dotsRender.js\n// module id = 0\n// module chunks = 0\n\n//# sourceURL=webpack:///./dotsRender.js?')},function(module,exports){eval("module.exports = (function() {\r\n\t\r\n\tfunction randomInRange(min, max) { \r\n\t\treturn Math.random() * (max - min) + min; \r\n\t}\r\n\t\r\n\tfunction randomDotSpeed(min, max) {\r\n\t\treturn 1 / randomInRange(min, max);\r\n\t}\r\n\t\r\n\tfunction randomDotSize(dotsSize, speed) {\r\n\t\treturn dotsSize * speed;\r\n\t}\r\n\t\r\n\tfunction dotSize(dotsSizeMin, dotsSizeMax) {\r\n\t\treturn randomInRange(dotsSizeMin, dotsSizeMax);\r\n\t}\r\n\t\r\n\tfunction dotsRatio(pageWidth, pageHeight) {\r\n\t\treturn pageWidth * pageHeight;\r\n\t}\r\n\t\r\n\tfunction calculateDot(){\r\n\t\t\r\n\t}\r\n\t\r\n\treturn {\r\n\t\trandomInRange: randomInRange,\r\n\t\trandomDotSpeed: randomDotSpeed,\r\n\t\trandomDotSize: randomDotSize\r\n\t}\r\n})();\n\n//////////////////\n// WEBPACK FOOTER\n// ./helpers.js\n// module id = 1\n// module chunks = 0\n\n//# sourceURL=webpack:///./helpers.js?")},function(module,exports){eval("// Args :\r\n//   delayLines    -  Delay of horizontal lines animation\r\n//   delayLetters  -  Delay of letters animation\r\n//   speed         -  Number of intervals needed for letter to appear\r\n//   step          -  Interval of animation\r\n\r\nfunction animateLettersBlock(delayLines, delayLetters, speed, step) {\r\n\t\r\n\tvar welcomeTextContainer = document.getElementById('letters-block'),\r\n\t\t\thrFirst = document.getElementById('hr-header'),\r\n\t\t\thrLast = document.getElementById('hr-header-last'),\r\n\t\t\tletters = document.getElementsByClassName('header-letter'),\r\n\t\t\ttimeline = 0,\r\n\t\t\tinterv;\r\n\t\r\n\twelcomeTextContainer.style.display = 'block';\r\n\twelcomeTextContainer.className = 'letters-block-animation';\r\n\t\r\n\tsetTimeout(animateLines, delayLines);\r\n\tsetTimeout(animateLetters, delayLetters);\r\n\t\r\n\t\r\n\tfunction animateLines() {\r\n\t\t\r\n\t\thrLast.style.display = hrFirst.style.display = 'block';\r\n\t\thrFirst.className = 'hr-header-expand';\r\n\t\thrLast.className = 'hr-header-last-expand';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction animateLetters() {\r\n\t\tvar letterCounter = 0;\r\n\t\t\r\n\t\tinterv = setInterval(function(){\r\n\t\t\t\t\r\n\t\t\t\tif (timeline % speed === 0) {\r\n\t\t\t\t\trotateLetter(letterCounter);\r\n\t\t\t\t\tletterCounter++;\r\n\t\t\t\t}\r\n\t\t\t\ttimeline++;\r\n\t\t\t\r\n\t\t\t}, step)\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction rotateLetter(num){\r\n\t\tif (letters[num]) {\r\n\t\t\tletters[num].className += ' rotate-letter';\r\n\t\t\tletters[num].style.visibility = 'visible';\r\n\t\t} else {\r\n\t\t\tclearInterval(interv);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = animateLettersBlock;\n\n//////////////////\n// WEBPACK FOOTER\n// ./letterAnimation.js\n// module id = 2\n// module chunks = 0\n\n//# sourceURL=webpack:///./letterAnimation.js?")},function(module,exports,__webpack_require__){eval("var animateLettersBlock = __webpack_require__(2);\r\nvar helpers = __webpack_require__(1);\r\nvar dotsRender = __webpack_require__(0);\r\n\r\n\r\n\r\n(function () {\r\n\t\r\n\tvar canvasEl = document.getElementById('canvas-app'),\r\n\t\t\tctx = canvasEl.getContext('2d'),\r\n\t\t\t// -------- Доработать взятие размеров экрана у IE 8- ----------------\r\n\t\t\tpageWidth = document.documentElement.clientWidth,\r\n\t\t\tpageHeight = document.documentElement.clientHeight,\r\n\t\t\tcenterX = pageWidth / 2,\r\n\t\t\tcenterY = pageHeight / 2,\r\n\t\t\tarrOfDots = [],\r\n\t\t\tinterv,\r\n\t\t\trandomMin = 50,\r\n\t\t\trandomMax = 250,\r\n\t\t\tdotsCount = 2000,\r\n\t\t\tdotsSize = 70,\r\n\t\t\tmouseCoordX,\r\n\t\t\tmouseCoordY, \r\n\t\t\tstate = false,\r\n\t\t\tparallaxSize = 2,\r\n\t\t\tparallaxMultiplier = randomMin * parallaxSize;\r\n\t\r\n\tcanvasEl.width = pageWidth;\r\n\tcanvasEl.height = pageHeight;\r\n\t\r\n\tctx.strokeStyle = '#fff';\r\n\tctx.fillStyle = '#fff';\r\n\t\r\n\tfunction clearPage(){\r\n\t\tctx.clearRect(0, 0, pageWidth, pageHeight);\r\n\t}\r\n\t\r\n\t\r\n\t// --- REMOVE THIS ---\r\n\tfunction showCoords(){\r\n\t\tvar min1 = 0, min2 = 0, max1 = 0, max2 = 0;\r\n\t\tarrOfDots.forEach(function(item, i) {\r\n\t\t\tmin1 = item[0] < min1 ? item[0] : min1;\r\n\t\t\tmin2 = item[1] < min2 ? item[1] : min2;\r\n\t\t\tmax1 = item[0] > max1 ? item[0] : max1;\r\n\t\t\tmax2 = item[1] > max2 ? item[1] : max2;\r\n\t\t});\r\n\t\tconsole.log(\"x min: \" + Math.floor(min1) + \" | y min: \" + Math.floor(min2) + \" pageX :\" + pageWidth + \" | pageY :\" + pageHeight);\r\n\t\tconsole.log(\"x max: \" + Math.floor(max1) + \" | y max: \" + Math.floor(max2));\r\n\t}\r\n\t// ------------------\r\n\t\r\n\t\r\n\t// ----- Отрисовка точек ----\r\n\t\r\n\t\r\n\tarrOfDots = arrOfDots.concat(dotsRender.drawVisible(dotsCount, dotsSize, randomMin, randomMax));\r\n\t\r\n\tarrOfDots.forEach(function(item, i){\r\n\t\tctx.fillRect(item[0],item[1], item[3], item[3]);\r\n\t});\r\n\t\r\n\t\r\n\t// ------------ Анимация блока букв ----------------\r\n\t\r\n\tanimateLettersBlock(500, 800, 7, 16);\r\n\t\r\n\t// -------------------------------------------------\r\n\tfunction moveDots() {\r\n\t\tctx.clearRect(0, 0, pageWidth, pageHeight);\r\n\t\tarrOfDots.forEach(function(item, i) {\r\n\t\t\t\r\n\t\t\titem[0] += (item[0] - mouseCoordX) * item[2];\r\n\t\t\titem[1] += (item[1] - mouseCoordY) * item[2];\r\n\t\t\t\r\n\t\t\tif (item[0] > pageWidth * 2 || item[1] > pageHeight * 2) {\r\n\t\t\t\t// Доделать генерацию точек с учётом уменьшьшения области просмотра\r\n\t\t\t\tarrOfDots.splice(i, 1, [Math.floor(Math.random() * pageWidth), Math.floor(Math.random() * pageHeight), helpers.randomDotSpeed(randomMin, randomMax)]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tctx.fillRect(item[0],item[1], dotsSize * item[2], dotsSize * item[2]);\r\n\t\t\t\t\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction movingForward() {\r\n\t\tinterv = setInterval(moveDots, 16);\r\n\t};\r\n\t\r\n\tfunction stopMoving() { \r\n\t\tclearInterval(interv); \r\n\t};\r\n\t\r\n\tfunction parallax(e) {\r\n\t\tconsole.log(\"bla\");\r\n\t\tif (!state) {\r\n\t\t\tstate = true;\r\n\t\t} else {\r\n\t\t\tctx.clearRect(0, 0, pageWidth, pageHeight);\r\n\t\t\tarrOfDots.forEach(function(item, i) {\r\n\t\t\t\titem[0] = item[0] - (e.clientX - mouseCoordX) * item[2] * parallaxMultiplier;\r\n\t\t\t\titem[1] = item[1] - (e.clientY - mouseCoordY) * item[2] * parallaxMultiplier;\r\n\t\t\t\t\r\n//\t\t\t\titem[0] = item[0] - (e.clientX - mouseCoordX);\r\n//\t\t\t\titem[1] = item[1] - (e.clientY - mouseCoordY);\r\n\t\t\t\t\r\n\t\t\t\tctx.fillRect(item[0], item[1], dotsSize * item[2], dotsSize * item[2]);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// -- lastCoords --\r\n\t\tmouseCoordX = e.clientX;\r\n\t\tmouseCoordY = e.clientY;\r\n//\t\tconsole.log(\"X:\", mouseCoordX, \"| Y:\", mouseCoordY);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n//\tvar parallax = function(e) {\r\n//\t\t\r\n//\t\tmouseCoordX = e.clientX;\r\n//\t\tmouseCoordY = e.clientY;\r\n//\t\t\r\n//\t\tparallax = function(e) {\r\n\t\r\n//\t\t\tctx.clearRect(0, 0, pageWidth, pageHeight);\r\n//\t\t\t\r\n//\t\t\tarrOfDots.forEach(function(item, i) {\r\n//\t\t\t\titem[0] = item[0] - (e.clientX - mouseCoordX) * item[2] * parallaxMultiplier;\r\n//\t\t\t\titem[1] = item[1] - (e.clientY - mouseCoordY) * item[2] * parallaxMultiplier;\r\n//\t\t\t\t\r\n//\t\t\t\tctx.fillRect(item[0], item[1], dotsSize * item[2], dotsSize * item[2]);\r\n//\t\t\t});\r\n//\t\t\t\r\n//\t\t\tmouseCoordX = e.clientX;\r\n//\t\t\tmouseCoordY = e.clientY;\r\n//\t\t};\r\n//\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction drawHidden(e) {\r\n\t\t\r\n\t\tmouseCoordX = e.clientX;\r\n\t\tmouseCoordY = e.clientY;\r\n\t\t\r\n\t\tarrOfDots = arrOfDots.concat(dotsRender.drawHidden(e, dotsCount, dotsSize, randomMin, randomMax));\r\n\t\t\r\n\t\tcanvasEl.removeEventListener('mouseenter', drawHidden, false);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tcanvasEl.addEventListener('mouseenter', drawHidden, false);\r\n\t\r\n\tcanvasEl.addEventListener('mousedown', movingForward, false);\r\n\t\r\n\tcanvasEl.addEventListener('mouseup', stopMoving, false);\r\n\t\r\n\tcanvasEl.addEventListener('mousemove', parallax, false);\r\n\t\r\n\t\r\n})();\n\n//////////////////\n// WEBPACK FOOTER\n// ./main.js\n// module id = 3\n// module chunks = 0\n\n//# sourceURL=webpack:///./main.js?")}]);